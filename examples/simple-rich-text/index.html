<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
    <title>Simple Rich Text</title>
    <style type='text/css'>
      html, body {
          margin: 0;
          padding: 0;
          height: 100%;
      }
      #editor {
          width:  100%;
          height: 100%;
      }
    </style>
  </head>
  <body>
    <textarea id='editor'></textarea>
    <button id='save'>Save</button>
  </body>
  <script src='js/nicEdit.js'></script>
  <script>
  window.onload = function () {
      var editor = document.getElementById("editor"),
          fileName = "document.html",
          dd = wocument.dataDirectory;
      dd.getFileAsText(fileName, function (txt) {
          if (!txt) editor.value = "<p>Could not load data.</p>";
          else      editor.value = txt;
          nicEditors.allTextAreas();
      });
      // attach handler to save button that writes back
      document.getElementById("save").onclick = function () {
          var content = nicEditors.findEditor('editor').getContent();
          dd.saveFileAsText(fileName, content);
      };
  };
  </script>
</html>
